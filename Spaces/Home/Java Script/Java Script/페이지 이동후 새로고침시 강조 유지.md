


```js
document.addEventListener("DOMContentLoaded", function () {  
    function initMenu() {  
        const items = document.querySelectorAll(".menu > .list > .item");  
  
        items.forEach((item) => {  
            const parentMenu = item.querySelector(".parent-menu");  
            const depthMenu = item.querySelector(".depth");  
  
            parentMenu.addEventListener("click", () => {  
                const isActive = item.classList.contains("active");  
  
                if (isActive) {  
                    item.classList.remove("active");  
                    if (depthMenu) {  
                        depthMenu.style.display = "none";  
                        depthMenu.classList.remove("active");  
                        depthMenu.style.height = `${depthMenu.scrollHeight}px`; // í˜„ì¬ ë†’ì´ë¡œ ì„¤ì •  
                        requestAnimationFrame(() => {  
                            depthMenu.style.height = "0"; // ì• ë‹ˆë©”ì´ì…˜ì„ ìœ„í•´ 0ìœ¼ë¡œ ì¤„ì„  
                        });  
                    }  
                } else {  
                    item.classList.add("active");  
                    if (depthMenu) {  
                        depthMenu.style.height = 'auto';  
                        depthMenu.classList.add("active");  
                        depthMenu.style.display = 'block';  
                        requestAnimationFrame(() => {  
                            depthMenu.style.height = `${depthMenu.scrollHeight}px`; // ì»¨í…ì¸  ë†’ì´ë¡œ ì„¤ì •  
                        });  
                    }  
                }  
            });  
        });  
    }  
  
    const currentPath = window.location.pathname;  
    // íŒŒì¼ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰   
const fileName = currentPath.split('/').pop().split('.').shift();    
  
    const menuItems = document.querySelectorAll('.menu .item');  
  
    menuItems.forEach(item => {  
        const link = item.querySelector('a');  
        if (link) {  
            const dataItem = link.getAttribute('data-item');    
  
            if (dataItem === fileName) {  
                item.classList.add('active');   
                link.style.backgroundColor = "#104B30";    
                link.style.color = "#EEFF27";    
  
                const depthMenu = item.querySelector(".depth");  
                if (depthMenu) {  
                    depthMenu.style.height = `${depthMenu.scrollHeight}px`;  
                }  
            }  
        }  
  
        // í•˜ìœ„ ë©”ë‰´ì˜ ë§í¬ë“¤ë„ í™•ì¸í•´ì•¼ í•¨  
        const depthLinks = item.querySelectorAll('.depth a');   
        depthLinks.forEach(depthLink => {  
            const dataItem = depthLink.getAttribute('data-item');    
  
            if (dataItem === fileName) {  
                depthLink.style.backgroundColor = "#104B30";   
                depthLink.style.color = "#EEFF27";   
                item.classList.add('active');    
                const depthMenu = item.querySelector(".depth");  
                if (depthMenu) {  
                    depthMenu.style.height = `${depthMenu.scrollHeight}px`;  
                }  
            }  
        });  
    });  
  
    // ë©”ë‰´ ì´ˆê¸°í™” í˜¸ì¶œ  
    initMenu();  
});
```


2. `initMenu` í•¨ìˆ˜: (ë©”ë‰´ ì—´ê³  ë‹«ê¸°)

```js
function initMenu() {
    const items = document.querySelectorAll(".menu > .list > .item");

    items.forEach((item) => {
        const parentMenu = item.querySelector(".parent-menu");
        const depthMenu = item.querySelector(".depth");

        parentMenu.addEventListener("click", () => {
            const isActive = item.classList.contains("active");

            if (isActive) {
                item.classList.remove("active");
                if (depthMenu) {
                    depthMenu.style.display = "none";
                    depthMenu.classList.remove("active");
                    depthMenu.style.height = `${depthMenu.scrollHeight}px`;
                    requestAnimationFrame(() => {
                        depthMenu.style.height = "0";
                    });
                }
            } else {
                item.classList.add("active");
                if (depthMenu) {
                    depthMenu.style.height = 'auto';
                    depthMenu.classList.add("active");
                    depthMenu.style.display = 'block';
                    requestAnimationFrame(() => {
                        depthMenu.style.height = `${depthMenu.scrollHeight}px`;
                    });
                }
            }
        });
    });
}
```


### **ê¸°ëŠ¥ ìš”ì•½:**

- `.menu > .list > .item`ì„ ê°€ì ¸ì™€ì„œ **ë©”ë‰´ì˜ ìƒìœ„ ìš”ì†Œë¥¼ ìˆœíšŒ**í•©ë‹ˆë‹¤.
- **`parentMenu` í´ë¦­ ì‹œ:**
    - **í™œì„±í™” ìƒíƒœ**ë¥¼ í™•ì¸í•˜ê³  **ë©”ë‰´ë¥¼ ì—´ê±°ë‚˜ ë‹«ìŒ.**
- **ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€:**
    - `requestAnimationFrame()`ì„ ì‚¬ìš©í•´ **ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜**ì„ êµ¬í˜„.

### ğŸ“Œ **ë™ì‘ ë°©ì‹:**

- **`isActive` ìƒíƒœ ê²€ì‚¬:**
    - `item.classList.contains('active')`ë¥¼ í†µí•´ í˜„ì¬ **í™œì„±í™” ìƒíƒœ**ì¸ì§€ í™•ì¸.
- **ë‹«ê¸°:**
    - `depthMenu.style.display = "none"` (ìˆ¨ê¹€)
    - `height = "0"`ìœ¼ë¡œ ì„¤ì •.
- **ì—´ê¸°:**
    - `depthMenu.style.height = 'auto'`
    - `depthMenu.style.display = 'block'`
    - `requestAnimationFrame`ìœ¼ë¡œ ë†’ì´ë¥¼ ì¡°ì ˆ.


3. í˜„ì¬ í˜ì´ì§€ ê¸°ë°˜ ë©”ë‰´ ê°•ì¡° (URL ê²€ì‚¬)

```js
const currentPath = window.location.pathname;
const fileName = currentPath.split('/').pop().split('.').shift();  
```


### **ë™ì‘ ë°©ì‹:**

- **`window.location.pathname`**: í˜„ì¬ URL ê²½ë¡œë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
- **`split('/').pop()`**: ë§ˆì§€ë§‰ ê²½ë¡œë¥¼ ë¶„ë¦¬ (ì˜ˆ: `/about.html` â†’ `about.html`).
- **`split('.').shift()`**: í™•ì¥ì ì œê±° (ì˜ˆ: `about.html` â†’ `about`).


4. ë©”ë‰´ í™œì„±í™” ë¡œì§:


```js
const menuItems = document.querySelectorAll('.menu .item');

menuItems.forEach(item => {
    const link = item.querySelector('a');
    if (link) {
        const dataItem = link.getAttribute('data-item');  

        if (dataItem === fileName) {
            item.classList.add('active'); 
            link.style.backgroundColor = "#104B30";  
            link.style.color = "#EEFF27";  

            const depthMenu = item.querySelector(".depth");
            if (depthMenu) {
                depthMenu.style.height = `${depthMenu.scrollHeight}px`;
            }
        }
    }
});
```


### **ë™ì‘ ë°©ì‹:**

- **ëª¨ë“  `.menu .item` ìš”ì†Œë¥¼ ìˆœíšŒ**í•˜ë©°,
- **ê° `a` íƒœê·¸ì˜ `data-item` ì†ì„±**ì„ ê²€ì‚¬.
- **í˜„ì¬ URLì˜ íŒŒì¼ëª…ê³¼ `data-item`ì´ ì¼ì¹˜**í•˜ë©´:
    - `.active` í´ë˜ìŠ¤ë¥¼ ì¶”ê°€
    - ë°°ê²½ìƒ‰ê³¼ ê¸€ììƒ‰ì„ ë³€ê²½
    - í•´ë‹¹ ë©”ë‰´ì˜ í•˜ìœ„ ë©”ë‰´ë¥¼ ì—´ê¸°.


5. í•˜ìœ„ ë©”ë‰´ ê°•ì¡° (Depth Menu)

```js
const depthLinks = item.querySelectorAll('.depth a'); 
depthLinks.forEach(depthLink => {
    const dataItem = depthLink.getAttribute('data-item');  

    if (dataItem === fileName) {
        depthLink.style.backgroundColor = "#104B30"; 
        depthLink.style.color = "#EEFF27"; 
        item.classList.add('active');  
        const depthMenu = item.querySelector(".depth");
        if (depthMenu) {
            depthMenu.style.height = `${depthMenu.scrollHeight}px`;
        }
    }
});
```


### **ë™ì‘ ë°©ì‹:**

- **í•˜ìœ„ ë©”ë‰´ê¹Œì§€ ê²€ì‚¬**í•˜ì—¬ í˜„ì¬ í˜ì´ì§€ì™€ ì¼ì¹˜í•˜ëŠ” ê²½ìš° ê°•ì¡°.
- **í•˜ìœ„ ë©”ë‰´ í´ë¦­ ì‹œ** ë°°ê²½ìƒ‰, ê¸€ììƒ‰ì„ ë³€ê²½í•˜ê³  ë©”ë‰´ë¥¼ ì—´ê¸°.


6. `initMenu()` í˜¸ì¶œ:


```js
// ë©”ë‰´ ì´ˆê¸°í™” í˜¸ì¶œ
initMenu();
```


- **ì´ˆê¸°í™” í•¨ìˆ˜ë¥¼ í˜¸ì¶œ**í•˜ì—¬ í˜ì´ì§€ ë¡œë”© ì‹œ ë©”ë‰´ë¥¼ ì¤€ë¹„í•©ë‹ˆë‹¤.

---

## âœ… **ğŸ¯ ê²°ë¡  (ìš”ì•½):**

### **ê¸°ëŠ¥:**

1. **ë©”ë‰´ ì—´ê³  ë‹«ê¸°:**
    - `parentMenu` í´ë¦­ ì‹œ ì—´ë¦¼/ë‹«í˜ ì• ë‹ˆë©”ì´ì…˜ ì ìš©.
2. **URL ê¸°ë°˜ í™œì„±í™”:**
    - í˜„ì¬ í˜ì´ì§€ì™€ `data-item` ë¹„êµí•˜ì—¬ ê°•ì¡°.
3. **í•˜ìœ„ ë©”ë‰´ í™œì„±í™”:**
    - í•˜ìœ„ ë©”ë‰´ í´ë¦­ ì‹œ ê°•ì¡°.
4. **ì• ë‹ˆë©”ì´ì…˜ ì ìš©:**
    - `requestAnimationFrame`ì„ ì‚¬ìš©í•œ ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜.

