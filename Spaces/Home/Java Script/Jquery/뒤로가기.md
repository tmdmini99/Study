



```js
$(document).on('click', 'tbody tr', function() { // 이벤트 위임 사용  
    // hidden input에서 id 가져오기  
    const id = $(this).closest('tr').prev("input[type='hidden']").val();  
    console.log('Hidden ID:', id); // hidden input에서 가져온 id 출력  
  
    // 현재 주소를 가져옴  
    // 현재 URL을 URL 객체로 생성  
    const url = new URL(window.location.href);  
  
    // 모든 쿼리 파라미터 제거  
    url.search = ''; // 쿼리 스트링을 빈 문자열로 설정하여 모든 파라미터 제거  
  
    // ID 추가  
    url.pathname += '/' + id; // ID를 URL 경로에 추가합니다.  
  
    $.ajax({  
        url:  url.toString(), // 현재 주소로 요청을 보냄  
        method: 'GET',  
        success: function(response) {  
            console.log('AJAX 요청 성공:', response); // 성공 시 로그 출력  
            // 서버에서 응답받은 HTML을 결과 영역에 삽입  
            let newDocument = new DOMParser().parseFromString(response, 'text/html');  
            let newContent = newDocument.getElementById('content'); // 업데이트할 부분 선택  
  
            // 기존 콘텐츠 업데이트  
            if (newContent) {  
                document.getElementById('content').innerHTML = newContent.innerHTML; // 기존 content만 업데이트  
            }  
  
            // URL을 업데이트 (history.pushState 사용)  
            const newUrl = url  
            history.pushState({ id: id }, '', newUrl);  
        },  
        error: function(xhr, status, error) {  
            console.error('AJAX 요청 실패:', error); // 에러 로그 출력  
        }  
    });  
});
```



form 뒤로가기
```js
$(document).on('click', 'tbody tr', function() { // 이벤트 위임 사용
    // hidden input에서 id 가져오기
    const id = $(this).closest('tr').prev("input[type='hidden']").val();
    console.log('Hidden ID:', id); // hidden input에서 가져온 id 출력

    // 현재 URL을 URL 객체로 생성
    const url = new URL(window.location.href);

    // 모든 쿼리 파라미터 제거
    url.search = ''; // 쿼리 스트링을 빈 문자열로 설정하여 모든 파라미터 제거

    // ID 추가
    url.pathname += '/' + id; // ID를 URL 경로에 추가합니다.

    // 현재 행에서 가장 가까운 폼 데이터 가져오기
    const formData = $(this).closest('form').serialize(); // 폼의 데이터를 직렬화

    $.ajax({
        url: url.toString(), // 현재 주소로 요청을 보냄
        method: 'GET',
        data: formData, // 폼 데이터 추가
        success: function(response) {
            console.log('AJAX 요청 성공:', response); // 성공 시 로그 출력
            // 서버에서 응답받은 HTML을 결과 영역에 삽입
            let newDocument = new DOMParser().parseFromString(response, 'text/html');
            let newContent = newDocument.getElementById('content'); // 업데이트할 부분 선택

            // 기존 콘텐츠 업데이트
            if (newContent) {
                document.getElementById('content').innerHTML = newContent.innerHTML; // 기존 content만 업데이트
            }

            // URL을 업데이트 (history.pushState 사용)
            history.pushState({ id: id }, '', url.toString());
        },
        error: function(xhr, status, error) {
            console.error('AJAX 요청 실패:', error); // 에러 로그 출력
        }
    });
});

```