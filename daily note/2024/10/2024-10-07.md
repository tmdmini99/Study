
```
package com.kpop.merch.common.handler;  
  
import com.google.gson.Gson;  
import com.google.gson.reflect.TypeToken;  
import org.apache.ibatis.type.BaseTypeHandler;  
import org.apache.ibatis.type.JdbcType;  
  
import java.lang.reflect.Type;  
import java.sql.CallableStatement;  
import java.sql.PreparedStatement;  
import java.sql.ResultSet;  
import java.sql.SQLException;  
import java.util.Map;  
  
public class JsonbTypeHandler extends BaseTypeHandler<Map<String, Object>> {  
  
    private static final Gson gson = new Gson();  
    private static final Type type = new TypeToken<Map<String, Object>>(){}.getType();  
  
    @Override  
    public void setNonNullParameter(PreparedStatement ps, int i, Map<String, Object> parameter, JdbcType jdbcType) throws SQLException {  
        ps.setString(i, gson.toJson(parameter));  
    }  
  
    @Override  
    public Map<String, Object> getNullableResult(ResultSet rs, String columnName) throws SQLException {  
        String json = rs.getString(columnName);  
        return json == null ? null : gson.fromJson(json, type);  
    }  
  
    @Override  
    public Map<String, Object> getNullableResult(ResultSet rs, int columnIndex) throws SQLException {  
        String json = rs.getString(columnIndex);  
        return json == null ? null : gson.fromJson(json, type);  
    }  
  
    @Override  
    public Map<String, Object> getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {  
        String json = cs.getString(columnIndex);  
        return json == null ? null : gson.fromJson(json, type);  
    }  
}
```




```
import org.json.JSONObject;
import java.util.Map;

public class YourVO {
    private int id;
    private String name;
    private Map<String, Object> jsonbColumn;

    // Setter에서 JSON 문자열을 Map으로 변환
    public void setJsonbColumn(String jsonbColumnString) {
        JSONObject jsonObject = new JSONObject(jsonbColumnString);
        this.jsonbColumn = jsonObject.toMap();  // org.json의 toMap()을 사용
    }

    public Map<String, Object> getJsonbColumn() {
        return jsonbColumn;
    }
}

```