


```js
document.addEventListener("DOMContentLoaded", function () {  
    function initMenu() {  
        const items = document.querySelectorAll(".menu > .list > .item");  
  
        items.forEach((item) => {  
            const parentMenu = item.querySelector(".parent-menu");  
            const depthMenu = item.querySelector(".depth");  
  
            parentMenu.addEventListener("click", () => {  
                const isActive = item.classList.contains("active");  
  
                if (isActive) {  
                    item.classList.remove("active");  
                    if (depthMenu) {  
                        depthMenu.style.display = "none";  
                        depthMenu.classList.remove("active");  
                        depthMenu.style.height = `${depthMenu.scrollHeight}px`; // 현재 높이로 설정  
                        requestAnimationFrame(() => {  
                            depthMenu.style.height = "0"; // 애니메이션을 위해 0으로 줄임  
                        });  
                    }  
                } else {  
                    item.classList.add("active");  
                    if (depthMenu) {  
                        depthMenu.style.height = 'auto';  
                        depthMenu.classList.add("active");  
                        depthMenu.style.display = 'block';  
                        requestAnimationFrame(() => {  
                            depthMenu.style.height = `${depthMenu.scrollHeight}px`; // 컨텐츠 높이로 설정  
                        });  
                    }  
                }  
            });  
        });  
    }  
  
    const currentPath = window.location.pathname;  
    // 파일 이름으로 검색   
const fileName = currentPath.split('/').pop().split('.').shift();    
  
    const menuItems = document.querySelectorAll('.menu .item');  
  
    menuItems.forEach(item => {  
        const link = item.querySelector('a');  
        if (link) {  
            const dataItem = link.getAttribute('data-item');    
  
            if (dataItem === fileName) {  
                item.classList.add('active');   
                link.style.backgroundColor = "#104B30";    
                link.style.color = "#EEFF27";    
  
                const depthMenu = item.querySelector(".depth");  
                if (depthMenu) {  
                    depthMenu.style.height = `${depthMenu.scrollHeight}px`;  
                }  
            }  
        }  
  
        // 하위 메뉴의 링크들도 확인해야 함  
        const depthLinks = item.querySelectorAll('.depth a');   
        depthLinks.forEach(depthLink => {  
            const dataItem = depthLink.getAttribute('data-item');    
  
            if (dataItem === fileName) {  
                depthLink.style.backgroundColor = "#104B30";   
                depthLink.style.color = "#EEFF27";   
                item.classList.add('active');    
                const depthMenu = item.querySelector(".depth");  
                if (depthMenu) {  
                    depthMenu.style.height = `${depthMenu.scrollHeight}px`;  
                }  
            }  
        });  
    });  
  
    // 메뉴 초기화 호출  
    initMenu();  
});
```